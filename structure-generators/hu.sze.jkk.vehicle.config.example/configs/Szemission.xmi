<?xml version="1.0" encoding="UTF-8"?>
<vehicleconfig:Vehicle
    xmi:version="2.0"
    xmlns:xmi="http://www.omg.org/XMI"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:vehicleconfig="http://jkk.sze.hu/vehicleconfig"
    xsi:schemaLocation="http://jkk.sze.hu/vehicleconfig ../../hu.sze.jkk.vehicle.config/model/vehicleconfig.ecore"
    name="szemission">
  <kinematicparameters
      wheelbase="1.3"
      rear_track="0.8"
      front_track="1.0">
    <wheelparameters
        wheel_radius="0.25"
        wheel_width="0.1"
        wheel_mass="0.5"/>
    <steeringparameters
        inner_angle="28.0"
        outer_angle="32.0"/>
  </kinematicparameters>
  <rosconfiguration>
    <rostopicconfiguration
        xsi:type="vehicleconfig:SteerTopic"
        topicname="steer"
        frequency="100.0">
      <joint_id>0</joint_id>
      <joint_id>1</joint_id>
    </rostopicconfiguration>
    <rostopicconfiguration
        xsi:type="vehicleconfig:ImuTopic"
        topicname="imu"
        frequency="40.0"/>
    <rostopicconfiguration
        xsi:type="vehicleconfig:OdomTopic"
        topicname="odom"
        frequency="50.0"/>
    <rostopicconfiguration
        xsi:type="vehicleconfig:LaserTopic"
        topicname="laser/scan"/>
    <rostopicconfiguration
        xsi:type="vehicleconfig:ThrottleTopic"
        topicname="throttle"
        frequency="100.0">
      <joint_id>3</joint_id>
    </rostopicconfiguration>
  </rosconfiguration>
  <nodeconfiguration>
    <computationnode
        xsi:type="vehicleconfig:Odometry"
        nodename="odometry_szemission"
        throttletopic="//@rosconfiguration/@rostopicconfiguration.4"
        steertopic="//@rosconfiguration/@rostopicconfiguration.0"
        odomtopic="//@rosconfiguration/@rostopicconfiguration.2"/>
    <computationnode
        xsi:type="vehicleconfig:IMU"
        nodename="imu_szemission"
        imutopic="//@rosconfiguration/@rostopicconfiguration.1"
        imusensor="//@sensorconfiguration/@sensor.1"/>
    <computationnode
        xsi:type="vehicleconfig:VehicleControl"
        nodename="control_node"
        steertopic="//@rosconfiguration/@rostopicconfiguration.0"
        throttletopic="//@rosconfiguration/@rostopicconfiguration.4"/>
    <computationnode
        xsi:type="vehicleconfig:LaserNode"
        nodename="laser_front_node"
        lasertopic="//@rosconfiguration/@rostopicconfiguration.3"
        laser="//@sensorconfiguration/@sensor.0"/>
    <computationnode
        xsi:type="vehicleconfig:SimulationControl"
        nodename="szemission_plugin"
        pluginname="libgazebo_steer_szemission_plugin.so"/>
  </nodeconfiguration>
  <geometrysettings>
    <shell meshpath="szemission.stl"
        collisionmesh="szemission_collision.stl"
        package="szelectricity_description/meshes/">
      <displacement/>
    </shell>
  </geometrysettings>
  <sensorconfiguration>
    <sensor
        xsi:type="vehicleconfig:Laser"
        mass="5.0"
        name="laser_front"
        update_rate="50.0">
      <displacement
          x="1.2"/>
      <distancesettings
          samples="540"
          resolution="0.1"
          min_distance="0.4"
          max_distance="30.0"/>
      <angleparameters
          samples="540"
          resolution="1.0"
          min_angle="-120.0"
          max_angle="120.0"/>
    </sensor>
    <sensor
        xsi:type="vehicleconfig:ImuSensor"
        mass="0.1"
        name="imu_sensor"
        update_rate="40.0">
      <displacement/>
    </sensor>
  </sensorconfiguration>
  <transmissionsetup>
    <motor_rear_left
        engineparameters="//@EngineParameters.0"/>
  </transmissionsetup>
  <EngineParameters
      maxtorque="20.0"/>
  <dynamicparameters>
    <inertialparameters
        cog_ratio="0.43"
        mass="60.0"/>
    <aerodynamicparameters/>
  </dynamicparameters>
</vehicleconfig:Vehicle>
